generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Topic {
  id           Int          @id @default(autoincrement())
  name         String
  vocabularies Vocabulary[]
  tests        Test[]
}

model Vocabulary {
  id              Int     @id @default(autoincrement())
  word            String
  ipa             String?
  audioUrl        String?
  imageUrl        String?
  meaning         String
  exampleSentence String?
  exampleMeaning  String?
  topicId         Int
  topic           Topic   @relation(fields: [topicId], references: [id])
}

model Test {
  id        Int        @id @default(autoincrement())
  topicId   Int
  topic     Topic      @relation(fields: [topicId], references: [id])
  questions Question[]
  maxScore  Int        @default(100)
}

model Question {
  id             Int     @id @default(autoincrement())
  content        String
  type           String
  answers        Json
  correctAnswer  String
  difficulty     Int     @default(1)
  relatedVocabId Int?
  testId         Int
  test           Test    @relation(fields: [testId], references: [id])
}